import{o as k,p as H,H as E,g as m,s as N,b as I,a as y,q as L,c as V,u as O,v as q,h as T,d as M}from"./disclose-version.CfR865xC.js";import{k as Y,l as C,m as P,n as $,o as B,a as W,q as j,s as z,t as F,e as G}from"./runtime.CwLLRO5E.js";const A=new Set,b=new Set;function Z(r){for(var a=0;a<r.length;a++)A.add(r[a]);for(var s of b)s(r)}function w(r){var R;var a=this,s=a.ownerDocument,c=r.type,i=((R=r.composedPath)==null?void 0:R.call(r))||[],t=i[0]||r.target,d=0,l=r.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(a===document||a===window)){r.__root=a;return}var f=i.indexOf(a);if(f===-1)return;u<=f&&(d=u)}if(t=i[d]||r.target,t!==a){Y(r,"currentTarget",{configurable:!0,get(){return t||s}});try{for(var _,e=[];t!==null;){var o=t.parentNode||t.host||null;try{var n=t["__"+c];if(n!==void 0&&!t.disabled)if(C(n)){var[p,...g]=n;p.apply(t,[r,...g])}else n.call(t,r)}catch(v){_?e.push(v):_=v}if(r.cancelBubble||o===a||o===null)break;t=o}if(_){for(let v of e)queueMicrotask(()=>{throw v});throw _}}finally{r.__root=a,t=a}}}const J=["wheel","touchstart","touchmove","touchend","touchcancel"];function K(r){return J.includes(r)}function x(r,a){(r.__t??(r.__t=r.nodeValue))!==a&&(r.nodeValue=r.__t=a)}function Q(r,a){const s=a.anchor??a.target.appendChild(k());return D(r,{...a,anchor:s})}function rr(r,a){a.intro=a.intro??!1;const s=a.target,c=T,i=y;try{for(var t=s.firstChild;t&&(t.nodeType!==8||t.data!==H);)t=t.nextSibling;if(!t)throw E;m(!0),N(t),I();const d=D(r,{...a,anchor:t});if(y===null||y.nodeType!==8||y.data!==L)throw V(),E;return m(!1),d}catch(d){if(d===E)return a.recover===!1&&P(),O(),q(s),m(!1),Q(r,a);throw d}finally{m(c),N(i)}}const h=new Map;function D(r,{target:a,anchor:s,props:c={},events:i,context:t,intro:d=!0}){O();var l=new Set,u=e=>{for(var o=0;o<e.length;o++){var n=e[o];if(!l.has(n)){l.add(n);var p=K(n);a.addEventListener(n,w,{passive:p});var g=h.get(n);g===void 0?(document.addEventListener(n,w,{passive:p}),h.set(n,1)):h.set(n,g+1)}}};u($(A)),b.add(u);var f=void 0,_=B(()=>(W(()=>{if(t){j({});var e=G;e.c=t}i&&(c.$$events=i),T&&M(s,null),f=r(s,c)||{},T&&(z.nodes.end=y),t&&F()}),()=>{for(var e of l){a.removeEventListener(e,w);var o=h.get(e);--o===0?(document.removeEventListener(e,w),h.delete(e)):h.set(e,o)}b.delete(u),S.delete(f)}));return S.set(f,_),f}let S=new WeakMap;function ar(r){const a=S.get(r);a==null||a()}export{Z as d,rr as h,Q as m,x as s,ar as u};
